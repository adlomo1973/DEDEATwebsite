<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>CMS for Opportunities | DEDEAT</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
:root {
    --primary-maroon: #7A0026; 
    --primary-maroon-2: #5c001d; 
    --accent-gold: #f2b300;  
    --text-dark: #222222;
    --text-on-dark: #ffffff;
    --bg-lite: #fafafa;
    --card: #ffffff;
    --muted: #f4f4f4;
    --focus: #ffd24d; 
}
*{box-sizing:border-box}
body {font-family: "Segoe UI", Arial, Helvetica, sans-serif;margin:0;background: var(--bg-lite);color: var(--text-dark);line-height:1.45}
input, select, textarea{width:100%;padding:10px;margin:8px 0 16px 0;border:1px solid #ccc;border-radius:6px;}
button{padding:10px 16px;background:var(--accent-gold);border:none;border-radius:6px;font-weight:600;cursor:pointer;}
button:hover{background:#ffd24d;}
h2{margin-top:0;color:var(--primary-maroon);}
.card{background: var(--card);border:1px solid #e9e9e9;border-radius:12px;padding:20px;margin-bottom:20px;box-shadow:0 2px 5px rgba(0,0,0,.05);}
.collapsible-btn{width:100%;text-align:left;padding:10px;font-size:16px;border:none;outline:none;cursor:pointer;background: var(--primary-maroon-2);color:#fff;border-radius:6px;margin-top:10px;}
.collapsible-btn:hover{background:var(--primary-maroon);}
.collapsible-content{display:none;padding:10px;background: var(--muted);border-radius:6px;margin-top:5px;}
.collapsible-content table{width:100%;border-collapse:collapse}
.collapsible-content th, .collapsible-content td{border:1px solid #ddd;padding:8px;text-align:left}
.collapsible-content th{background:var(--primary-maroon-2);color:#fff}
.collapsible-content tr:nth-child(even){background:#f4f4f4}
.tabs {display: flex; border-bottom: 3px solid var(--primary-maroon); margin-bottom: 1.5rem;}
.tab {flex: 1; padding: 14px; text-align: center; cursor: pointer; background: var(--muted); font-weight: 600; color: var(--primary-maroon); transition: background 0.3s;}
.tab:hover { background: #e7e7e7; }
.tab.active { background: var(--primary-maroon); color: white; }
.tab-content { display: none; }
.tab-content.active { display: block; animation: fadeIn 0.5s; }
@keyframes fadeIn { from {opacity:0;} to {opacity:1;} }
.container{max-width:1100px;margin:0 auto;padding:28px}
</style>
</head>
<body>

<section class="container">
    <h1>Content Management for Opportunities</h1>

    <div class="card">
        <h2>Add Tender / Vacancy</h2>
        <form id="cmsForm">
            <label>Type:</label>
            <select id="type" required>
                <option value="">Select type</option>
                <option value="Tender-Published">Tender - Published</option>
                <option value="Tender-Awarded">Tender - Awarded</option>
                <option value="Tender-Cancelled">Tender - Cancelled/Withdrawn</option>
                <option value="Vacancy">Vacancy</option>
            </select>

            <label>Title:</label>
            <input type="text" id="title" required>

            <label>Reference / Department:</label>
            <input type="text" id="ref">

            <label>Date:</label>
            <input type="date" id="date">

            <label>Description / Requirements:</label>
            <textarea id="requirements" rows="4"></textarea>

            <label>PDF File Name (for download link):</label>
            <input type="text" id="fileName" placeholder="example.pdf">

            <button type="submit">Add Content</button>
        </form>
    </div>

    <div class="card">
        <h2>Opportunities Preview</h2>
        <div>
            <!-- Tabs -->
            <div class="tabs">
                <div class="tab active" onclick="openTab('tenders', this)">Tenders</div>
                <div class="tab" onclick="openTab('vacancies', this)">Vacancies</div>
            </div>

            <!-- Tenders -->
            <div id="tenders" class="tab-content active">
                <div id="Published" class="collapsible-section"></div>
                <div id="Awarded" class="collapsible-section"></div>
                <div id="Cancelled" class="collapsible-section"></div>
            </div>

            <!-- Vacancies -->
            <div id="vacancies" class="tab-content">
                <div id="Vacancy" class="collapsible-section"></div>
            </div>
        </div>
    </div>

</section>

<script>
const form = document.getElementById('cmsForm');

form.addEventListener('submit', (e)=>{
    e.preventDefault();
    const type = document.getElementById('type').value;
    const title = document.getElementById('title').value;
    const ref = document.getElementById('ref').value;
    const date = document.getElementById('date').value;
    const req = document.getElementById('requirements').value;
    const file = document.getElementById('fileName').value;

    // Determine section
    let sectionId = '';
    if(type.startsWith('Tender')) sectionId = type.split('-')[1];
    else sectionId = 'Vacancy';

    const container = document.getElementById(sectionId);

    // Create card
    const card = document.createElement('div');
    card.classList.add('card');

    if(sectionId === 'Vacancy'){
        card.innerHTML = `
            <h3>${title}</h3>
            <p>Closing Date: ${date}</p>
            <button class="collapsible-btn">View Details</button>
            <div class="collapsible-content">
                <table>
                    <tr><th>Position</th><th>Department</th><th>Requirements</th><th>Document</th></tr>
                    <tr>
                        <td>${title}</td>
                        <td>${ref}</td>
                        <td>${req}</td>
                        <td>${file ? `<a href="${file}" class="btn" download>${file}</a>` : 'N/A'}</td>
                    </tr>
                </table>
            </div>
        `;
    } else {
        card.innerHTML = `
            <h3>${sectionId} Tender</h3>
            <p>${req}</p>
            <button class="collapsible-btn">View ${sectionId} Tenders</button>
            <div class="collapsible-content">
                <table>
                    <tr><th>Title</th><th>Ref. No.</th><th>Date</th><th>Document</th></tr>
                    <tr>
                        <td>${title}</td>
                        <td>${ref}</td>
                        <td>${date}</td>
                        <td>${file ? `<a href="${file}" class="btn" download>${file}</a>` : 'N/A'}</td>
                    </tr>
                </table>
            </div>
        `;
    }

    container.appendChild(card);

    // Collapsible
    card.querySelector('.collapsible-btn').addEventListener('click', ()=>{
        const content = card.querySelector('.collapsible-content');
        content.style.display = content.style.display === 'block' ? 'none' : 'block';
    });

    form.reset();
});

function openTab(tabId, el){
    document.querySelectorAll('.tab-content').forEach(c=>c.classList.remove('active'));
    document.querySelectorAll('.tab').forEach(t=>t.classList.remove('active'));
    document.getElementById(tabId).classList.add('active');
    el.classList.add('active');
}
</script>

</body>
</html>

